(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-533cb08a"],{"8efb":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-row",{attrs:{gutter:16}},[a("a-col",{attrs:{md:24,lg:24}},[a("a-form",{attrs:{layout:"vertical",autocomplete:"off"}},[a("a-form-item",{attrs:{label:"轮播图","wrapper-col":{span:18}}},[a("div",{staticClass:"clearfix"},[a("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<5?a("div",[a("a-icon",{attrs:{type:"plus"}}),a("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1)]),a("a-form-item",{staticStyle:{height:"200px"},attrs:{label:"物业介绍","wrapper-col":{span:16}}},[a("editor",{ref:"serviceContext",staticClass:"editor",attrs:{value:e.serviceContext}})],1),a("a-form-item",{attrs:{"wrapper-col":{span:16}}},[a("a-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("提交")])],1),a("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:function(t){e.previewVisible=!1}}},[a("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)],1)],1)])},n=[],i=(a("d81d"),a("96cf"),a("1da1")),s=a("2909"),c=a("5530"),o=a("da71"),l=a("2af9"),u=a("365c"),f=a("9c0e2"),p=a("2f62"),d={name:"IntroduceSet",components:{Editor:l["b"]},data:function(){return{UPLOAD_HOST:o["d"],city:f["a"],data:{},fileList:[],previewVisible:!1,previewImage:null,content:"",serviceContext:""}},computed:Object(c["a"])({},Object(p["c"])(["userInfo"])),created:function(){this.getConfig()},methods:{submit:function(){this.setConfig()},handleChange:function(e){var t=Object(s["a"])(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.fileList=t},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},onChange:function(e){console.log(e)},getConfig:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["F"])({id:e.userInfo.staffId});case 2:a=t.sent,r=a.result,n=a.httpCode,i=a.message,200===n?(e.fileList=r.imageUrls.map((function(e,t){return{uid:t,name:e,url:e}})),e.$refs.serviceContext.content=r.content):e.$message.error(i);case 7:case"end":return t.stop()}}),t)})))()},setConfig:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,n,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={content:e.$refs.serviceContext.content,imageUrls:e.fileList.map((function(e){return e.url}))},t.next=3,Object(u["G"])(a);case 3:r=t.sent,n=r.result,i=r.httpCode,s=r.message,200===i?(console.log(n),e.getConfig(),e.$message.success(s)):e.$message.error(s);case 8:case"end":return t.stop()}}),t)})))()}}},m=d,g=(a("adca"),a("2877")),v=Object(g["a"])(m,r,n,!1,null,"381e1ea6",null);t["default"]=v.exports},a381:function(e,t,a){},adca:function(e,t,a){"use strict";var r=a("a381"),n=a.n(r);n.a}}]);