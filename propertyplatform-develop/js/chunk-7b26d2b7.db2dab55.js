(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b26d2b7"],{"1da1":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("d3b7"),a("e6cf");function r(e,t,a,r,n,s,i){try{var o=e[s](i),u=o.value}catch(l){return void a(l)}o.done?t(u):Promise.resolve(u).then(r,n)}function n(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var i=e.apply(t,a);function o(e){r(i,n,s,o,u,"next",e)}function u(e){r(i,n,s,o,u,"throw",e)}o(void 0)}))}}},a230:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("a-card",{attrs:{bordered:!1}},[a("div",{staticClass:"table-page-search-wrapper"},[a("a-row",[a("a-col",[a("a-form",{attrs:{layout:"vertical",form:e.form,autocomplete:"off"},on:{submit:e.handleSubmit}},[a("a-form-item",{attrs:{label:"权限选择","wrapper-col":{span:8}}},[a("a-input-group",{attrs:{compact:""}},[a("a-select",{staticStyle:{width:"30%"},model:{value:e.radioVal,callback:function(t){e.radioVal=t},expression:"radioVal"}},[a("a-select-option",{attrs:{value:1}},[e._v("添加角色")]),a("a-select-option",{attrs:{value:2}},[e._v("修改角色权限")])],1),1===e.radioVal?a("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["name",{rules:[{required:!0,message:"请输入角色名"}]}],expression:"['name',{ rules: [{ required: true, message: '请输入角色名' }] }]"}],staticStyle:{width:"70%"},attrs:{placeholder:"请输入角色名"}}):e._e(),2===e.radioVal?a("a-select",{staticStyle:{width:"70%"},attrs:{showSearch:"",placeholder:"请选择角色名称",filterOption:e.filterOption},on:{change:e.roleTap}},e._l(e.options,(function(t,r){return a("a-select-option",{key:r,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1):e._e()],1)],1),a("a-form-item",{attrs:{label:"是否平台工作者","wrapper-col":{span:8}}},[a("a-radio-group",{directives:[{name:"decorator",rawName:"v-decorator",value:["isPlatformWork",{rules:[{required:!0,message:"请选择"}]}],expression:"['isPlatformWork',{ rules: [{ required: true, message: '请选择' }] }]"}],attrs:{name:"radioGroup"}},[a("a-radio",{attrs:{value:"YES"}},[e._v("是平台工作者")]),a("a-radio",{attrs:{value:"NO"}},[e._v("其他")])],1)],1),a("a-form-item",{attrs:{label:"权限选择"}},[a("a-list",{directives:[{name:"decorator",rawName:"v-decorator",value:["functionIds",{rules:[{required:!0,message:"请选择权限"}]}],expression:"['functionIds',{ rules: [{ required: true, message: '请选择权限' }] }]"}],staticStyle:{"padding-top":"10px"},attrs:{loading:e.loading,grid:{gutter:24,column:4},dataSource:e.data},scopedSlots:e._u([{key:"renderItem",fn:function(t,r){return a("a-list-item",{key:r},[a("a-card",{staticStyle:{"min-height":"280px"},attrs:{title:t.name}},[a("a-checkbox-group",{attrs:{disabled:e.showVal},on:{change:function(t){return e.onChange(r)}},model:{value:e.value[r],callback:function(t){e.$set(e.value,r,t)},expression:"value[index]"}},[a("a-row",e._l(t.sonList,(function(t,r){return a("a-col",{key:r,staticStyle:{"margin-bottom":"10px"},attrs:{span:12}},[a("a-checkbox",{attrs:{value:t.id}},[e._v(e._s(t.name))])],1)})),1)],1)],1)],1)}}])})],1),a("a-form-item",[a("a-button",{attrs:{type:"primary",disabled:e.disBtn,"html-type":"submit"}},[e._v(e._s(1===e.radioVal?"保存":"更新"))])],1)],1)],1)],1)],1)])},n=[],s=(a("a623"),a("4160"),a("c975"),a("d81d"),a("d3b7"),a("25f0"),a("159b"),a("96cf"),a("1da1")),i=a("5530"),o=[{id:"17",status:"NORMAL",funImageUrl:"",name:"统计",type:"PROPERTY",sonList:[{id:"1",status:"NORMAL",name:"业主分析",fatherKey:"17",type:"PROPERTY"},{id:"2",status:"NORMAL",name:"缴费分析",fatherKey:"17",type:"PROPERTY"},{id:"3",status:"NORMAL",name:"服务分析",fatherKey:"17",type:"PROPERTY"},{id:"4",status:"NORMAL",name:"门禁分析",fatherKey:"17",type:"PROPERTY"}]},{id:"18",status:"NORMAL",funImageUrl:"",name:"管理",type:"PROPERTY",sonList:[{id:"1",status:"NORMAL",name:"业主管理",fatherKey:"18",type:"PROPERTY"},{id:"2",status:"NORMAL",name:"人员管理",fatherKey:"18",type:"PROPERTY"},{id:"3",status:"NORMAL",name:"业主审核",fatherKey:"18",type:"PROPERTY"},{id:"4",status:"NORMAL",name:"服务管理",fatherKey:"18",type:"PROPERTY"},{id:"5",status:"NORMAL",name:"缴费管理",fatherKey:"18",type:"PROPERTY"},{id:"6",status:"NORMAL",name:"活动管理",fatherKey:"18",type:"PROPERTY"},{id:"7",status:"NORMAL",name:"投诉管理",fatherKey:"18",type:"PROPERTY"},{id:"8",status:"NORMAL",name:"租房管理",fatherKey:"18",type:"PROPERTY"}]},{id:"19",status:"NORMAL",funImageUrl:"",name:"财务设置",type:"PROPERTY",sonList:[{id:"1",status:"NORMAL",name:"支付设置",fatherKey:"19",type:"PROPERTY"},{id:"2",status:"NORMAL",name:"支付列表",fatherKey:"19",type:"PROPERTY"}]},{id:"20",status:"NORMAL",funImageUrl:"",name:"设置",type:"PROPERTY",sonList:[{id:"1",status:"NORMAL",name:"平台设置",fatherKey:"20",type:"PROPERTY"},{id:"2",status:"NORMAL",name:"申请管理",fatherKey:"20",type:"PROPERTY"},{id:"3",status:"NORMAL",name:"物业介绍",fatherKey:"20",type:"PROPERTY"},{id:"4",status:"NORMAL",name:"委员会介绍",fatherKey:"20",type:"PROPERTY"}]}],u=a("365c"),l={name:"RoleSet",components:{},data:function(){return{form:this.$form.createForm(this),selectedItems:[],options:[],value:[],menuList:o,data:[],loading:!1,showVal:!1,optionsVal:null,radioVal:1,disBtn:!1}},watch:{radioVal:function(e){1===e&&(this.optionsVal=null,this.value=[],this.showVal=!1,this.form.resetFields()),2!==e||this.optionsVal||(this.showVal=!0,this.form.resetFields())},optionsVal:function(e){e&&(this.showVal=!1)}},created:function(){this.getList(),this.getallList()},methods:{roleTap:function(e){this.optionsVal=e,this.getInquire(e),console.log(e)},filterOption:function(e,t){return t.componentOptions.children[0].text.toLowerCase().indexOf(e)>=0},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,a){console.log(a),e||(console.log(e),console.log(a),a.functionIds=t.value.toString(),a=2===t.radioVal?Object(i["a"])({id:t.optionsVal},a):a,t.addList(a))}))},onChange:function(e){console.log("checked = ",e),console.log("value = ",this.value),2==this.radioVal&&(this.disBtn=this.value.every((function(e,t){return 0==e.length})))},addList:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(1!==t.radioVal){a.next=6;break}return a.next=3,Object(u["tb"])(e);case 3:a.t0=a.sent,a.next=9;break;case 6:return a.next=8,Object(u["vb"])(e);case 8:a.t0=a.sent;case 9:r=a.t0,n=r.httpCode,s=r.message,200===n?(t.getList(),1===t.radioVal&&(t.form.resetFields(),t.value=[]),t.$message.success(s)):t.$message.error(s);case 13:case"end":return a.stop()}}),a)})))()},getInquire:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r,n,s,i,o,l,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,Object(u["E"])({id:e});case 2:if(r=a.sent,n=r.result,s=r.httpCode,i=r.message,console.log(n),200!==s){a.next=17;break}return t.$nextTick((function(){t.form.setFieldsValue({isPlatformWork:n.type})})),o=n.list.map((function(e){return e.id})),l=[],a.next=13,Object(u["wb"])({});case 13:c=a.sent,200===c.httpCode?(c.result.forEach((function(e,t){var a=[];e.sonList.forEach((function(e,t){-1!=o.indexOf(e.id)&&a.push(e.id)})),l[t]=a})),t.value=l):t.$message.error(c.message),a.next=18;break;case 17:t.$message.error(i);case 18:case"end":return a.stop()}}),a)})))()},getallList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(u["wb"])({});case 3:a=t.sent,r=a.result,n=a.httpCode,s=a.message,200===n?e.data=r:e.$message.error(s),e.loading=!1;case 9:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,r,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["ub"])({});case 2:a=t.sent,r=a.result,n=a.httpCode,s=a.message,200===n?e.options=r:e.$message.error(s);case 7:case"end":return t.stop()}}),t)})))()}}},c=l,d=a("2877"),m=Object(d["a"])(c,r,n,!1,null,null,null);t["default"]=m.exports},a623:function(e,t,a){"use strict";var r=a("23e7"),n=a("b727").every,s=a("a640"),i=a("ae40"),o=s("every"),u=i("every");r({target:"Array",proto:!0,forced:!o||!u},{every:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);