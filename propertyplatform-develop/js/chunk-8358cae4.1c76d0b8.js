(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8358cae4"],{"1da1":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("d3b7"),n("e6cf");function a(t,e,n,a,r,i,s){try{var o=t[i](s),c=o.value}catch(l){return void n(l)}o.done?e(c):Promise.resolve(c).then(a,r)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var s=t.apply(e,n);function o(t){a(s,r,i,o,c,"next",t)}function c(t){a(s,r,i,o,c,"throw",t)}o(void 0)}))}}},fd11:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a-card",{attrs:{bordered:!1}},[n("div",{staticClass:"table-page-search-wrapper"},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:30,lg:24}},[n("a-form",{attrs:{layout:"vertical",autocomplete:"off"}},[n("a-form-item",{attrs:{label:"考勤打卡坐标设置","wrapper-col":{span:24}}},[n("a-input",{staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"经度"},model:{value:t.lng,callback:function(e){t.lng=e},expression:"lng"}}),n("a-input",{staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"纬度"},model:{value:t.lat,callback:function(e){t.lat=e},expression:"lat"}}),n("a-input",{staticStyle:{width:"240px"},attrs:{placeholder:"打卡范围"},model:{value:t.ranges,callback:function(e){t.ranges=e},expression:"ranges"}})],1),n("a-form-item",{attrs:{label:"上班时间设置","wrapper-col":{span:24}}},[n("a-time-picker",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入上班时间"},model:{value:t.beginTimeStr,callback:function(e){t.beginTimeStr=e},expression:"beginTimeStr"}})],1),n("a-form-item",{attrs:{label:"下班时间设置","wrapper-col":{span:24}}},[n("a-time-picker",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入下班时间"},model:{value:t.endTimeStr,callback:function(e){t.endTimeStr=e},expression:"endTimeStr"}})],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"},on:{click:t.attendanceTap}},[t._v("保存")])],1),t._l(t.patrolList,(function(e,a){return n("a-form-item",{key:a,attrs:{"wrapper-col":{span:28},label:0===a?"巡逻打卡坐标设置":""}},[n("a-input",{staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"经度"},model:{value:e.lng,callback:function(n){t.$set(e,"lng",n)},expression:"item.lng"}}),n("a-input",{staticStyle:{width:"240px","margin-right":"20px"},attrs:{placeholder:"纬度"},model:{value:e.lat,callback:function(n){t.$set(e,"lat",n)},expression:"item.lat"}}),t.patrolList.length>1?n("a-icon",{staticClass:"dynamic-delete-button",attrs:{type:"minus-circle-o",disabled:1===t.patrolList.length},on:{click:function(){return t.remove(e,a)}}}):t._e()],1)})),n("a-form-item",{attrs:{"wrapper-col":{span:24}}},[n("a-button",{staticStyle:{width:"400px"},attrs:{type:"dashed"},on:{click:t.add}},[n("a-icon",{attrs:{type:"plus"}}),t._v("添加 ")],1)],1),n("a-form-item",[n("a-button",{attrs:{type:"primary"},on:{click:t.patrolTap}},[t._v("保存")])],1)],2)],1)],1)],1)])},r=[],i=(n("4de4"),n("96cf"),n("1da1")),s=n("5530"),o=n("c1df"),c=n.n(o),l=n("365c"),u=n("2f62"),p={name:"CoordinateSet",components:{},data:function(){return{selectedItems:[],configs:{},patrolList:[],lng:"",lat:"",beginTimeStr:"",endTimeStr:"",ranges:""}},computed:Object(s["a"])({},Object(u["c"])(["userInfo"])),created:function(){this.getConfig()},beforeCreate:function(){},methods:{attendanceTap:function(){this.setConfig()},patrolTap:function(){this.setPatrol()},getConfig:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["r"])({});case 2:n=e.sent,a=n.result,r=n.httpCode,i=n.message,200===r?(t.configs=a,t.patrolList=t.configs.patrolList?t.configs.patrolList:[],t.lng=t.configs.attendance.lng,t.lat=t.configs.attendance.lat,t.ranges=t.configs.attendance.ranges,t.beginTimeStr=c()(t.configs.attendance.beginTime,"HH:mm:ss"),t.endTimeStr=c()(t.configs.attendance.endTime,"HH:mm:ss")):t.$message.error(i);case 7:case"end":return e.stop()}}),e)})))()},setConfig:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(),n={lng:t.lng,lat:t.lat,ranges:t.ranges,beginTimeStr:c()(t.beginTimeStr).format("HH:mm:ss"),endTimeStr:c()(t.endTimeStr).format("HH:mm:ss")},e.next=4,Object(l["s"])(n);case 4:a=e.sent,r=a.result,i=a.httpCode,s=a.message,200===i?(console.log(r),t.getConfig(),t.$message.success(s)):t.$message.error(s);case 9:case"end":return e.stop()}}),e)})))()},setPatrol:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,a,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={coordinateList:t.patrolList},e.next=3,Object(l["Q"])(n);case 3:a=e.sent,r=a.result,i=a.httpCode,s=a.message,200===i?(console.log(r),t.getConfig(),t.$message.success(s)):t.$message.error(s);case 8:case"end":return e.stop()}}),e)})))()},remove:function(t,e){var n=this.patrolList.filter((function(t,n){return e!==n}));this.patrolList=n},add:function(){this.patrolList.push({lng:"",lat:"",communityId:this.userInfo.propertyId})}}},m=p,d=n("2877"),g=Object(d["a"])(m,a,r,!1,null,null,null);e["default"]=g.exports}}]);