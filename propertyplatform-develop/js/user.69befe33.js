(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["user"],{"042f":function(e,t,r){},"0550":function(e,t,r){"use strict";var a=r("643d"),n=r.n(a);n.a},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7"),r("e6cf");function a(e,t,r,a,n,s,i){try{var o=e[s](i),l=o.value}catch(c){return void r(c)}o.done?t(l):Promise.resolve(l).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var i=e.apply(t,r);function o(e){a(i,n,s,o,l,"next",e)}function l(e){a(i,n,s,o,l,"throw",e)}o(void 0)}))}}},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a=r("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=r("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return n(e)||s(e)||Object(i["a"])(e)||o()}},"36a8":function(e,t,r){"use strict";var a=r("042f"),n=r.n(a);n.a},"643d":function(e,t,r){},"8db0":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("a-form",{ref:"formLogin",staticClass:"user-layout-login",attrs:{id:"formLogin",form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",{rules:[{required:!0,message:"请输入账号"}],validateTrigger:"change"}],expression:"[\n              'telephone',\n              {rules: [{ required: true, message: '请输入账号' }], validateTrigger: 'change'}\n            ]"}],attrs:{size:"large",type:"text",placeholder:"请输入账号"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"user"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}],validateTrigger:"blur"}],expression:"[\n              'password',\n              {rules: [{ required: true, message: '请输入密码' }], validateTrigger: 'blur'}\n            ]"}],attrs:{size:"large",type:"password",autocomplete:"false",placeholder:"请输入密码"}},[r("a-icon",{style:{color:"rgba(0,0,0,.25)"},attrs:{slot:"prefix",type:"lock"},slot:"prefix"})],1)],1),r("a-form-item",[r("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["rememberMe"],expression:"['rememberMe']"}]},[e._v("记住账号")]),r("router-link",{staticClass:"forge-password",staticStyle:{float:"right"},attrs:{to:{name:"register",params:{user:"aaa"}}}},[e._v("注册账户")])],1),r("a-form-item",{staticStyle:{"margin-top":"24px"}},[r("a-button",{staticClass:"login-button",attrs:{size:"large",type:"primary",htmlType:"submit",loading:e.loginBtn,disabled:e.loginBtn}},[e._v("登录")])],1)],1)],1)},n=[],s=(r("ac1f"),r("5319"),r("96cf"),r("1da1")),i=r("5530"),o=r("2f62"),l=r("365c"),c={components:{},data:function(){return{loginBtn:!1,form:this.$form.createForm(this)}},created:function(){var e=this,t=this.$ls.get("ACCOUNT");t&&this.$nextTick((function(){e.form.setFieldsValue({telephone:t.account})}))},methods:Object(i["a"])(Object(i["a"])({},Object(o["b"])(["login","logout","setInfo"])),{},{handleLogin:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["L"])(e);case 2:a=r.sent,n=a.result,s=a.httpCode,i=a.message,200===s?(t.login(n.token),t.setInfo({name:n.propertyName,avatar:n.propertyHeadUrl,propertyId:n.propertyId,staffId:n.staffId,menuList:n.functionList}),e.rememberMe&&t.$ls.set("ACCOUNT",{account:e.telephone}),t.$notification.success({message:"提示",description:"登录成功!"}),setTimeout((function(){t.$router.replace("/")}),500)):t.$notification.error({message:"提示",description:i}),setTimeout((function(){t.loginBtn=!1}),1e3);case 8:case"end":return r.stop()}}),r)})))()},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,r){e||(t.loginBtn=!0,t.handleLogin(r))}))}})},u=c,p=(r("36a8"),r("2877")),d=Object(p["a"])(u,a,n,!1,null,"3649f25e",null);t["default"]=d.exports},c98e:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-card",{staticStyle:{width:"800px",margin:"auto","border-radius":"10px"},attrs:{bordered:!1,"body-style":{padding:"0"}}},[r("a-row",{style:{padding:"50px 20px"},attrs:{gutter:10}},[r("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{label:"账号","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["account",{rules:[{required:!0,message:"请输入账号"}]}],expression:"['account', {rules: [{required: true, message: '请输入账号'}]}]"}],attrs:{placeholder:"请输入账号"}})],1),r("a-form-item",{attrs:{label:"密码","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入密码"}]}],expression:"['password', {rules: [{required: true, message: '请输入密码'}]}]"}],attrs:{type:"password",placeholder:"请输入密码"}})],1),r("a-form-item",{attrs:{label:"物业社区名称","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["communityName",{rules:[{required:!0,message:"请输入小区名称"}]}],expression:"[\n                    'communityName',\n                    {\n                      rules: [{ required: true, message: '请输入小区名称' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入小区名称"}})],1),r("a-form-item",{attrs:{label:"小区所在地","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"请选择小区所在地"}]}],expression:"[\n                    'city',\n                    {\n                      rules: [{ required: true, message: '请选择小区所在地' }]\n                    }\n                  ]"}],attrs:{fieldNames:{label:"n",value:"v",children:"children"},options:e.city,placeholder:"请选择所属区域"},on:{change:e.onChange}})],1),r("a-form-item",{attrs:{label:"详细地址","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{rules:[{required:!0,message:"请输入详细地址"}]}],expression:"[\n                    'address',\n                    { rules: [{ required: true, message: '请输入详细地址' }] }\n                  ]"}],attrs:{rows:"4",placeholder:"请输入详细地址"}})],1),r("a-form-item",{attrs:{label:"物业公司名称","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["propertyName",{rules:[{required:!0,message:"请输入公司名称"}]}],expression:"[\n                    'propertyName',\n                    {\n                      rules: [{ required: true, message: '请输入公司名称' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司名称"}})],1),r("a-form-item",{attrs:{label:"物业公司营业执照","label-col":{span:6},"wrapper-col":{span:14}}},[r("div",{staticClass:"clearfix"},[r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1)]),r("a-form-item",{attrs:{label:"物业法人信息","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legalPerson",{rules:[{required:!0,message:"请输入法人姓名"}]}],expression:"[\n                    'legalPerson',\n                    {\n                      rules: [{ required: true, message: '请输入法人姓名' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"法人姓名"}}),r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legalPersonId",{rules:[{required:!0,message:"请输入法人身份证号"}]}],expression:"[\n                    'legalPersonId',\n                    {\n                      rules: [\n                        { required: true, message: '请输入法人身份证号' }\n                      ]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"物业法人身份证号"}}),r("div",{staticClass:"upload"},[r("div",{staticClass:"clearfix"},[r("span",[e._v("身份证正面")]),r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.justList},on:{preview:e.handlePreview,change:function(t){return e.handleChangef(t,"just")}}},[e.justList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1),r("div",{staticClass:"clearfix"},[r("span",[e._v("身份证反面")]),r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.backList},on:{preview:e.handlePreview,change:function(t){return e.handleChangef(t,"back")}}},[e.backList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1)])],1),r("a-form-item",{attrs:{label:"物业对公账号","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank",{rules:[{required:!0,message:"请输入开户行"}]}],expression:"[\n                    'bank',\n                    {\n                      rules: [{ required: true, message: '请输入开户行' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"开户行"}}),r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankAccount",{rules:[{required:!0,message:"请输入开户行账号"}]}],expression:"[\n                    'bankAccount',\n                    {\n                      rules: [{ required: true, message: '请输入开户行账号' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"开户行账号"}})],1),r("a-form-item",{attrs:{label:"物业公司支付宝账号","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliPayAccount",{rules:[{required:!0,message:"请输入公司支付宝账号"}]}],expression:"[\n                    'aliPayAccount',\n                    {\n                      rules: [\n                        { required: true, message: '请输入公司支付宝账号' }\n                      ]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司支付宝账号"}})],1),r("a-form-item",{attrs:{label:"物业公司联系电话","label-col":{span:6},"wrapper-col":{span:14}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",{rules:[{required:!0,message:"请输入公司联系电话"}]}],expression:"[\n                    'telephone',\n                    {\n                      rules: [\n                        { required: true, message: '请输入公司联系电话' }\n                      ]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司联系电话"}})],1),r("a-form-item",[r("a-checkbox",{directives:[{name:"decorator",rawName:"v-decorator",value:["rememberMe"],expression:"['rememberMe']"}],style:{marginLeft:"190px"}},[e._v("阅读并同意开通协议")])],1),r("a-form-item",[r("a-button",{style:{marginLeft:"190px"},attrs:{htmlType:"submit",type:"primary"}},[e._v("注册")])],1),r("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:function(t){e.previewVisible=!1}}},[r("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)],1)],1)},n=[],s=(r("d81d"),r("b0c0"),r("d3b7"),r("25f0"),r("2909")),i=(r("96cf"),r("1da1")),o=r("5530"),l=r("da71"),c=r("365c"),u=r("2f62"),p={name:"Registerw",components:{},data:function(){return{UPLOAD_HOST:l["d"],form:this.$form.createForm(this),activeKey:0,data:[],loading:!1,fileList:[],previewVisible:!1,previewImage:null,city:[],justList:[],backList:[]}},computed:Object(o["a"])({},Object(u["c"])(["userInfo"])),created:function(){this.getAllAreas()},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["login","logout","setInfo"])),{},{onChange:function(e){console.log(e)},linkExecl:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["gb"])({});case 2:r=t.sent,a=r.result,n=r.httpCode,s=r.message,200===n?window.location.href=a.templateUrl:e.$message.error(s);case 7:case"end":return t.stop()}}),t)})))()},handleChangeFile:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?this.$message.success("".concat(e.file.name," file uploaded successfully")):"error"===e.file.status&&this.$message.error("".concat(e.file.name," file upload failed."))},handleChangef:function(e,t){if("just"===t){var r=Object(s["a"])(e.fileList);r=r.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.justList=r}else{var a=Object(s["a"])(e.fileList);a=a.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.backList=a}},handleChange:function(e){var t=Object(s["a"])(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.fileList=t},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,r){e||(r.imageZm=t.fileList.map((function(e){return e.url})).toString(),r.personImageZm=t.justList.map((function(e){return e.url})).toString(),r.personImageFm=t.backList.map((function(e){return e.url})).toString(),r.provinceId=r.city[0],r.cityId=r.city[1],r.areaId=r.city[2],t.setApply(r))}))},handleTableChange:function(e){this.getList({pageIndex:e.current,pageSize:e.pageSize}),this.pagination.current=e.current,this.pagination.pageSize=e.pageSize},handleReset:function(){this.form.resetFields()},tabsChange:function(e){0===e&&this.getList()},getAllAreas:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["db"])({});case 2:r=t.sent,a=r.result,n=r.httpCode,s=r.message,200===n?(i=JSON.parse(a.allAreas),e.city=i.p.map((function(e){var t={n:e.n,v:e.v,children:e.c.map((function(e){return{n:e.n,v:e.v,children:e.d}}))};return t}))):e.$message.error(s);case 7:case"end":return t.stop()}}),t)})))()},setApply:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(c["jb"])(e);case 2:a=r.sent,n=a.result,s=a.httpCode,i=a.message,200===s?(console.log(n),t.$message.success("注册成功!"),setTimeout((function(){t.$router.back()}),500)):t.$message.error(i);case 7:case"end":return r.stop()}}),r)})))()}})},d=p,m=(r("0550"),r("2877")),f=Object(m["a"])(d,a,n,!1,null,"58b7e49b",null);t["default"]=f.exports}}]);