(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-966c49f6"],{"038f":function(e,t,r){"use strict";var a=r("6782"),n=r.n(a);n.a},"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7"),r("e6cf");function a(e,t,r,a,n,s,i){try{var o=e[s](i),c=o.value}catch(l){return void r(l)}o.done?t(c):Promise.resolve(c).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,s){var i=e.apply(t,r);function o(e){a(i,n,s,o,c,"next",e)}function c(e){a(i,n,s,o,c,"throw",e)}o(void 0)}))}}},2909:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var a=r("6b75");function n(e){if(Array.isArray(e))return Object(a["a"])(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("e260"),r("d3b7"),r("3ca3"),r("ddb0");function s(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var i=r("06c5");function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return n(e)||s(e)||Object(i["a"])(e)||o()}},6782:function(e,t,r){},"7ff8":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-card",{attrs:{bordered:!1,title:"平台信息","body-style":{padding:"0"}}},[r("div",{staticClass:"salesCard"},[r("a-row",{style:{padding:"20px"}},[r("a-form",{attrs:{form:e.form},on:{submit:e.handleSubmit}},[r("a-form-item",{attrs:{label:"小区所在地","label-col":{span:3},"wrapper-col":{span:10}}},[r("a-cascader",{directives:[{name:"decorator",rawName:"v-decorator",value:["city",{rules:[{required:!0,message:"请选择小区所在地"}]}],expression:"[\n                    'city',\n                    {\n                      rules: [{ required: true, message: '请选择小区所在地' }]\n                    }\n                  ]"}],staticStyle:{width:"210px","margin-right":"20px"},attrs:{fieldNames:{label:"n",value:"v",children:"children"},options:e.city,placeholder:"请选择所属区域"},on:{change:e.onChange}})],1),r("a-form-item",{attrs:{label:"社区名称","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["communityName",{rules:[{required:!0,message:"请输入小区名称"}]}],expression:"[\n                    'communityName',\n                    {\n                      rules: [{ required: true, message: '请输入小区名称' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入小区名称"}})],1),r("a-form-item",{attrs:{label:"公司名称","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["propertyName",{rules:[{required:!0,message:"请输入公司名称"}]}],expression:"[\n                    'propertyName',\n                    {\n                      rules: [{ required: true, message: '请输入公司名称' }]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司名称"}})],1),r("a-form-item",{attrs:{label:"详细地址","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["address",{rules:[{required:!0,message:"请输入详细地址"}]}],expression:"[\n                    'address',\n                    { rules: [{ required: true, message: '请输入详细地址' }] }\n                  ]"}],attrs:{rows:"4",placeholder:"请输入详细地址"}})],1),r("a-form-item",{attrs:{label:"公司营业执照","label-col":{span:3},"wrapper-col":{span:6}}},[r("div",{staticClass:"clearfix"},[r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.fileList},on:{preview:e.handlePreview,change:e.handleChange}},[e.fileList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1)]),r("a-form-item",{attrs:{label:"法人信息","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legalPerson",{rules:[{required:!0,message:"请输入法人姓名"}]}],expression:"[\n                    'legalPerson',\n                    {\n                      rules: [{ required: true, message: '请输入法人姓名' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"法人姓名"}}),r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["legalPersonId",{rules:[{required:!0,message:"请输入法人身份证号"}]}],expression:"[\n                    'legalPersonId',\n                    {\n                      rules: [\n                        { required: true, message: '请输入法人身份证号' }\n                      ]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"法人身份证号"}}),r("div",{staticClass:"upload"},[r("div",{staticClass:"clearfix"},[r("span",[e._v("身份证正面")]),r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.justList},on:{preview:e.handlePreview,change:function(t){return e.handleChangef(t,"just")}}},[e.justList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1),r("div",{staticClass:"clearfix"},[r("span",[e._v("身份证反面")]),r("a-upload",{attrs:{name:"file",action:e.UPLOAD_HOST,listType:"picture-card",fileList:e.backList},on:{preview:e.handlePreview,change:function(t){return e.handleChangef(t,"back")}}},[e.backList.length<1?r("div",[r("a-icon",{attrs:{type:"plus"}}),r("div",{staticClass:"ant-upload-text"},[e._v("上传图片")])],1):e._e()])],1)])],1),r("a-form-item",{attrs:{label:"对公账号","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bank",{rules:[{required:!0,message:"请输入开户行"}]}],expression:"[\n                    'bank',\n                    {\n                      rules: [{ required: true, message: '请输入开户行' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"开户行"}}),r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["bankAccount",{rules:[{required:!0,message:"请输入开户行账号"}]}],expression:"[\n                    'bankAccount',\n                    {\n                      rules: [{ required: true, message: '请输入开户行账号' }]\n                    }\n                  ]"}],staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"开户行账号"}})],1),r("a-form-item",{attrs:{label:"公司支付宝账号","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["aliPayAccount",{rules:[{required:!0,message:"请输入公司支付宝账号"}]}],expression:"[\n                    'aliPayAccount',\n                    {\n                      rules: [\n                        { required: true, message: '请输入公司支付宝账号' }\n                      ]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司支付宝账号"}})],1),r("a-form-item",{attrs:{label:"公司联系电话","label-col":{span:3},"wrapper-col":{span:6}}},[r("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["telephone",{rules:[{required:!0,message:"请输入公司联系电话"}]}],expression:"[\n                    'telephone',\n                    {\n                      rules: [\n                        { required: true, message: '请输入公司联系电话' }\n                      ]\n                    }\n                  ]"}],attrs:{placeholder:"请输入公司联系电话"}})],1),r("a-form-item",[r("a-button",{style:{marginLeft:"160px"},attrs:{htmlType:"submit",type:"primary"}},[e._v("保存")])],1),r("a-modal",{attrs:{visible:e.previewVisible,footer:null},on:{cancel:function(t){e.previewVisible=!1}}},[r("img",{staticStyle:{width:"100%"},attrs:{alt:"example",src:e.previewImage}})])],1)],1)],1)])],1)},n=[],s=(r("d81d"),r("d3b7"),r("25f0"),r("96cf"),r("1da1")),i=r("2909"),o=r("5530"),c=r("da71"),l=r("365c"),u=r("2f62"),p={name:"InfoSet",components:{},data:function(){return{UPLOAD_HOST:c["d"],form:this.$form.createForm(this),activeKey:0,data:{},loading:!1,fileList:[],previewVisible:!1,previewImage:null,city:[],justList:[],backList:[],community:[]}},computed:Object(o["a"])({},Object(u["c"])(["userInfo"])),created:function(){this.getInfo(),this.getAllAreas()},methods:Object(o["a"])(Object(o["a"])({},Object(u["b"])(["login","logout","setInfo"])),{},{onChange:function(e){3===e.length&&this.getByarea(e[2])},handleChangef:function(e,t){if("just"===t){var r=Object(i["a"])(e.fileList);r=r.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.justList=r}else{var a=Object(i["a"])(e.fileList);a=a.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.backList=a}},handleChange:function(e){var t=Object(i["a"])(e.fileList);t=t.map((function(e){return e.response&&(e.url=e.response.result.fileName),e})),this.fileList=t},handlePreview:function(e){this.previewImage=e.url||e.thumbUrl,this.previewVisible=!0},handleSubmit:function(e){var t=this;e.preventDefault(),this.form.validateFields((function(e,r){e||(r.imageZm=t.fileList.map((function(e){return e.url})).toString(),r.personImageZm=t.justList.map((function(e){return e.url})).toString(),r.personImageFm=t.backList.map((function(e){return e.url})).toString(),r.provinceId=r.city[0],r.cityId=r.city[1],r.areaId=r.city[2],r.id=t.userInfo.propertyId,t.setApply(r))}))},handleTableChange:function(e){this.getList({pageIndex:e.current,pageSize:e.pageSize}),this.pagination.current=e.current,this.pagination.pageSize=e.pageSize},handleReset:function(){this.form.resetFields()},tabsChange:function(e){0===e&&this.getList()},getAllAreas:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["db"])({});case 2:r=t.sent,a=r.result,n=r.httpCode,s=r.message,200===n?(i=JSON.parse(a.allAreas),e.city=i.p.map((function(e){var t={n:e.n,v:e.v,children:e.c.map((function(e){return{n:e.n,v:e.v,children:e.d}}))};return t}))):e.$message.error(s);case 7:case"end":return t.stop()}}),t)})))()},getByarea:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["fb"])({areaId:e});case 2:a=r.sent,n=a.result,s=a.httpCode,i=a.message,200===s?t.community=n:t.$message.error(i);case 7:case"end":return r.stop()}}),r)})))()},setApply:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var a,n,s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(l["jb"])(e);case 2:a=r.sent,n=a.result,s=a.httpCode,i=a.message,200===s?(t.form.resetFields(),t.justList=t.backList=[],console.log(n),t.getInfo(),t.$message.success(i)):t.$message.error(i);case 7:case"end":return r.stop()}}),r)})))()},getInfo:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,a,n,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(l["D"])({id:e.userInfo.propertyId});case 2:r=t.sent,a=r.result,n=r.httpCode,i=r.message,200===n?(e.data=a,e.$nextTick(Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.fileList=[a.imageZm].map((function(e,t){return{uid:t,name:e,url:e}})),e.justList=[a.personImageZm].map((function(e,t){return{uid:t,name:e,url:e}})),e.backList=[a.personImageFm].map((function(e,t){return{uid:t,name:e,url:e}})),e.form.setFieldsValue({city:[a.provinceId,a.cityId,a.areaId],communityIdNo:a.communityIdNo,propertyName:a.propertyName,address:a.address,legalPerson:a.legalPerson,legalPersonId:a.legalPersonId,bank:a.bank,bankAccount:a.bankAccount,aliPayAccount:a.aliPayAccount,telephone:a.telephone,communityName:a.communityName});case 4:case"end":return t.stop()}}),t)}))))):e.$message.error(i);case 7:case"end":return t.stop()}}),t)})))()}})},d=p,m=(r("038f"),r("2877")),f=Object(m["a"])(d,a,n,!1,null,"33741993",null);t["default"]=f.exports}}]);